(this["webpackJsonpreact-openlayers-map"]=this["webpackJsonpreact-openlayers-map"]||[]).push([[0],{628:function(e,t,a){},629:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){},912:function(e,t){},924:function(e,t,a){},925:function(e,t,a){},931:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(84),c=a.n(r),i=a(486),o=(a(628),a(90)),l=(a(629),a(41));function s(e){var t=e.children;return Object(l.jsx)("div",{children:t})}var j=a(201),u=a(15),d=a(429),b=a(497),f=a(498),p=a(957),m=a(233),O=a(596),y=(a(631),a(210)),w=a(430),h=(a(495),a(632),a(496),function(e){var t=e.returnRef,a=void 0===t?null:t,r=Object(n.useState)(null),c=Object(j.a)(r,2),i=c[0],o=c[1],s=Object(n.useRef)();return Object(n.useRef)().current=i,Object(n.useEffect)((function(){if(!i){var e=new y.default({target:s.current,controls:Object(d.a)().extend([new b.a,new f.a]),view:new w.a({center:Object(u.fromLonLat)([-100.437012,47.650589]),zoom:5,minZoom:2,maxZoom:18}),layers:[new m.default({title:"Main Layers",combine:!1,visible:!0,layers:[new O.default({title:"OSM",type:"base",visible:!0,source:new p.a})]})]});setTimeout((function(){e.updateSize()}),0),o(e),"function"===typeof a&&a(e)}}),[]),Object(l.jsxs)("div",{ref:s,className:"map",children:[Object(l.jsx)("div",{id:"popup-container",children:Object(l.jsx)("div",{id:"popup-content",children:Object(l.jsx)("div",{id:"popup-text"})})}),Object(l.jsx)("div",{id:"tooltip-container",children:Object(l.jsx)("div",{id:"tooltip-content"})})]})}),g=(a(633),a(956)),x=a(250),v=a(608),L=(a(924),a(594)),S=a(488),T=a(955),D=a(312),P=a(75),z=a(952),G=a(953),E=a(954),k=L.default.TextArea;function N(e){var t=e.map,a=Object(n.useState)(null),r=Object(j.a)(a,2),c=r[0],i=r[1];Object(n.useEffect)((function(){return function(){t&&o()}}),[]);var o=function(){v.MapUtil.getLayerByName(t,"shapeLayer").getSource().clear()},s=function(e){var t,a=e.feature;t="Circle"===a.getGeometry().getType()?Object(P.c)(a.getGeometry()):a.getGeometry();var n=(new D.a).writeGeometry(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});i(n)};return Object(l.jsxs)("div",{className:"map-to-wkt",children:[Boolean(t)&&Object(l.jsxs)(x.ToggleGroup,{allowDeselect:!1,orientation:"horizontal",className:"map-to-wkt-btns",children:[Object(l.jsx)(x.DigitizeButton,{name:"drawLine",map:t,shape:"circle",drawType:"LineString",digitizeLayerName:"shapeLayer",size:"large",onDrawStart:o,onDrawEnd:s,children:Object(l.jsx)(S.default,{content:"Draw line",placement:"top",children:Object(l.jsx)(z.a,{})})}),Object(l.jsx)(x.DigitizeButton,{name:"drawPolygon",map:t,drawType:"Polygon",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:o,onDrawEnd:s,children:Object(l.jsx)(S.default,{content:"Draw Polygon",placement:"top",children:Object(l.jsx)(G.a,{})})}),Object(l.jsx)(x.DigitizeButton,{name:"drawRectangle",map:t,drawType:"Rectangle",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:o,onDrawEnd:s,children:Object(l.jsx)(S.default,{content:"Draw Regtangle",placement:"top",children:Object(l.jsx)(G.b,{})})}),Object(l.jsx)(x.DigitizeButton,{name:"drawCircle",map:t,drawType:"Circle",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:o,onDrawEnd:s,children:Object(l.jsx)(S.default,{content:"Draw Circle",placement:"top",children:Object(l.jsx)(E.a,{})})})]}),Object(l.jsx)(T.a,{layout:"vertical",children:Object(l.jsx)(T.a.Item,{label:"WKT",children:Object(l.jsx)(k,{rows:6,value:c,readOnly:!0})})})]})}var B=a(614),C=a(107),M=a(87),R=a(149),K=a(148),W=a(130),A=a(234),I=a(180),J=a(196),Z=function(e,t){e.getLayers().forEach((function(a){a&&a.get("name")===t&&e.removeLayer(a)}))},F=(a(925),L.default.TextArea);function U(e){var t=e.map,a=Object(n.useState)(""),r=Object(j.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(""),s=Object(j.a)(o,2),u=s[0],d=s[1];Object(n.useEffect)((function(){return function(){t&&Z(t,"wktLayer")}}),[]);return Object(l.jsx)("div",{className:"wkt-to-map",children:Object(l.jsxs)(T.a,{layout:"vertical",children:[Object(l.jsx)(T.a.Item,{label:"WKT",children:Object(l.jsx)(F,{rows:6,onChange:function(e){i(e.target.value)}})}),Boolean(u)&&Object(l.jsx)(B.a,{color:"error",className:"full-width error-tag",children:u}),Object(l.jsxs)("div",{className:"two-col-btns-wrapper",children:[Object(l.jsx)(C.default,{htmlType:"submit",type:"primary",onClick:function(e){(e.preventDefault(),t)&&(c&&(function(e){var t=new D.a;try{var a=t.readGeometry(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});return new M.default({geometry:a}).getGeometry().getType()}catch(n){return null}}(c)?(!function(e,t){Z(e,"wktLayer");var a=(new D.a).readGeometry(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});if(e){var n=new M.default({geometry:a});console.log(n.getGeometry().getType().includes("Point"));var r=new K.default({title:"WKT Layer",source:new R.default({features:[n]}),style:n.getGeometry().getType().includes("Point")?new W.default({image:new A.default({radius:7,fill:new I.default({color:"rgba(0, 98, 255, 0.4)"}),stroke:new J.default({color:"#0000ff",width:2})})}):new W.default({fill:new I.default({color:"rgba(0, 98, 255, 0.4)"}),stroke:new J.default({color:"#0000ff",width:2})})});r.set("name","wktLayer"),e.addLayer(r);var c=r.getSource().getFeatures()[0].getGeometry().getExtent();e.getView().fit(c,e.getSize())}}(t,c),d("")):(Z(t,"wktLayer"),d("The submitted geometry is not a valid WKT"))))},children:"Draw On Map"}),Object(l.jsx)(C.default,{htmlType:"button",onClick:function(){t&&(Z(t,"wktLayer"),d(""),i(""))},children:"Clear Map"})]})]})})}var V=g.a.TabPane;function q(e){var t=e.map;return Object(l.jsx)("div",{className:"tabs-container",children:Object(l.jsxs)(g.a,{defaultActiveKey:"1",type:"card",size:"large",destroyInactiveTabPane:!0,children:[Object(l.jsx)(V,{tab:"WKT to Map",children:Object(l.jsx)(U,{map:t})},"1"),Object(l.jsx)(V,{tab:"Map Shape to Wkt",children:Object(l.jsx)(N,{map:t})},"2")]})})}function H(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),a=t[0],r=t[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{returnRef:r}),Object(l.jsx)(q,{map:a}),Object(l.jsx)("div",{className:"footer",children:"\xa9 2021 Maryam Aljanabi"})]})}var Q=function(){return Object(l.jsx)(s,{children:Object(l.jsx)(o.c,{children:Object(l.jsx)(o.a,{exact:!0,path:["/home","/"],component:H})})})};a(927);c.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(Q,{})}),document.getElementById("root"))}},[[931,1,2]]]);
//# sourceMappingURL=main.c710a653.chunk.js.map