(this["webpackJsonpreact-openlayers-map"]=this["webpackJsonpreact-openlayers-map"]||[]).push([[0],{625:function(e,t,a){},626:function(e,t,a){},629:function(e,t,a){},630:function(e,t,a){},909:function(e,t){},921:function(e,t,a){},922:function(e,t,a){},928:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(84),c=a.n(r),i=a(608),o=(a(625),a(626),a(41));function l(e){var t=e.children;return Object(o.jsx)("div",{children:t})}var s=a(198),u=a(15),j=a(426),d=a(493),b=a(494),f=a(954),p=a(230),m=a(592),O=(a(628),a(207)),y=a(427),w=(a(491),a(629),a(492),function(e){var t=e.returnRef,a=void 0===t?null:t,r=Object(n.useState)(null),c=Object(s.a)(r,2),i=c[0],l=c[1],w=Object(n.useRef)();return Object(n.useRef)().current=i,Object(n.useEffect)((function(){if(!i){var e=new O.default({target:w.current,controls:Object(j.a)().extend([new d.a,new b.a]),view:new y.a({center:Object(u.fromLonLat)([-100.437012,47.650589]),zoom:5,minZoom:2,maxZoom:18}),layers:[new p.default({title:"Main Layers",combine:!1,visible:!0,layers:[new m.default({title:"OSM",type:"base",visible:!0,source:new f.a})]})]});setTimeout((function(){e.updateSize()}),0),l(e),"function"===typeof a&&a(e)}}),[]),Object(o.jsxs)("div",{ref:w,className:"map",children:[Object(o.jsx)("div",{id:"popup-container",children:Object(o.jsx)("div",{id:"popup-content",children:Object(o.jsx)("div",{id:"popup-text"})})}),Object(o.jsx)("div",{id:"tooltip-container",children:Object(o.jsx)("div",{id:"tooltip-content"})})]})}),h=(a(630),a(953)),g=a(247),x=a(604),v=(a(921),a(590)),L=a(484),S=a(952),T=a(309),D=a(75),P=a(949),z=a(950),G=a(951),E=v.default.TextArea;function k(e){var t=e.map,a=Object(n.useState)(null),r=Object(s.a)(a,2),c=r[0],i=r[1];Object(n.useEffect)((function(){return function(){t&&l()}}),[]);var l=function(){x.MapUtil.getLayerByName(t,"shapeLayer").getSource().clear()},u=function(e){var t,a=e.feature;t="Circle"===a.getGeometry().getType()?Object(D.c)(a.getGeometry()):a.getGeometry();var n=(new T.a).writeGeometry(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});i(n)};return Object(o.jsxs)("div",{className:"map-to-wkt",children:[Boolean(t)&&Object(o.jsxs)(g.ToggleGroup,{allowDeselect:!1,orientation:"horizontal",className:"map-to-wkt-btns",children:[Object(o.jsx)(g.DigitizeButton,{name:"drawLine",map:t,shape:"circle",drawType:"LineString",digitizeLayerName:"shapeLayer",size:"large",onDrawStart:l,onDrawEnd:u,children:Object(o.jsx)(L.default,{content:"Draw line",placement:"top",children:Object(o.jsx)(P.a,{})})}),Object(o.jsx)(g.DigitizeButton,{name:"drawPolygon",map:t,drawType:"Polygon",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:l,onDrawEnd:u,children:Object(o.jsx)(L.default,{content:"Draw Polygon",placement:"top",children:Object(o.jsx)(z.a,{})})}),Object(o.jsx)(g.DigitizeButton,{name:"drawRectangle",map:t,drawType:"Rectangle",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:l,onDrawEnd:u,children:Object(o.jsx)(L.default,{content:"Draw Regtangle",placement:"top",children:Object(o.jsx)(z.b,{})})}),Object(o.jsx)(g.DigitizeButton,{name:"drawCircle",map:t,drawType:"Circle",digitizeLayerName:"shapeLayer",shape:"circle",size:"large",onDrawStart:l,onDrawEnd:u,children:Object(o.jsx)(L.default,{content:"Draw Circle",placement:"top",children:Object(o.jsx)(G.a,{})})})]}),Object(o.jsx)(S.a,{layout:"vertical",children:Object(o.jsx)(S.a.Item,{label:"WKT",children:Object(o.jsx)(E,{rows:6,value:c,readOnly:!0})})})]})}var N=a(611),B=a(106),C=a(87),M=a(147),R=a(146),K=a(129),W=a(231),A=a(177),I=a(193),J=function(e,t){e.getLayers().forEach((function(a){a&&a.get("name")===t&&e.removeLayer(a)}))},Z=(a(922),v.default.TextArea);function F(e){var t=e.map,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),j=u[0],d=u[1];Object(n.useEffect)((function(){return function(){t&&J(t,"wktLayer")}}),[]);return Object(o.jsx)("div",{className:"wkt-to-map",children:Object(o.jsxs)(S.a,{layout:"vertical",children:[Object(o.jsx)(S.a.Item,{label:"WKT",children:Object(o.jsx)(Z,{rows:6,onChange:function(e){i(e.target.value)}})}),Boolean(j)&&Object(o.jsx)(N.a,{color:"error",className:"full-width error-tag",children:j}),Object(o.jsxs)("div",{className:"two-col-btns-wrapper",children:[Object(o.jsx)(B.default,{htmlType:"submit",type:"primary",onClick:function(e){(e.preventDefault(),t)&&(c&&(function(e){var t=new T.a;try{var a=t.readGeometry(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});return new C.default({geometry:a}).getGeometry().getType()}catch(n){return null}}(c)?(!function(e,t){J(e,"wktLayer");var a=(new T.a).readGeometry(t,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});if(e){var n=new C.default({geometry:a});console.log(n.getGeometry().getType().includes("Point"));var r=new R.default({title:"WKT Layer",source:new M.default({features:[n]}),style:n.getGeometry().getType().includes("Point")?new K.default({image:new W.default({radius:7,fill:new A.default({color:"rgba(0, 98, 255, 0.4)"}),stroke:new I.default({color:"#0000ff",width:2})})}):new K.default({fill:new A.default({color:"rgba(0, 98, 255, 0.4)"}),stroke:new I.default({color:"#0000ff",width:2})})});r.set("name","wktLayer"),e.addLayer(r);var c=r.getSource().getFeatures()[0].getGeometry().getExtent();e.getView().fit(c,e.getSize())}}(t,c),d("")):(J(t,"wktLayer"),d("The submitted geometry is not a valid WKT"))))},children:"Draw On Map"}),Object(o.jsx)(B.default,{htmlType:"button",onClick:function(){t&&(J(t,"wktLayer"),d(""),i(""))},children:"Clear Map"})]})]})})}var U=h.a.TabPane;function V(e){var t=e.map;return Object(o.jsx)("div",{className:"tabs-container",children:Object(o.jsxs)(h.a,{defaultActiveKey:"1",type:"card",size:"large",destroyInactiveTabPane:!0,children:[Object(o.jsx)(U,{tab:"WKT to Map",children:Object(o.jsx)(F,{map:t})},"1"),Object(o.jsx)(U,{tab:"Map Shape to Wkt",children:Object(o.jsx)(k,{map:t})},"2")]})})}function q(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(w,{returnRef:r}),Object(o.jsx)(V,{map:a}),Object(o.jsx)("div",{className:"footer",children:"\xa9 2021 Maryam Aljanabi"})]})}var H=function(){return Object(o.jsx)(l,{children:Object(o.jsx)(q,{})})};a(923);c.a.render(Object(o.jsx)(i.a,{children:Object(o.jsx)(H,{})}),document.getElementById("root"))}},[[928,1,2]]]);
//# sourceMappingURL=main.47b95ad2.chunk.js.map